 <!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

  <head>
    <title>Import knowledge snippet</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" type="text/css" media="all" href="../static/css/stsm.css" th:href="@{/css/stsm.css}"/>
  </head>

  <body>

    <div>
      <img src="../static/images/stsmlogo.png" alt="STSM logo" title="STSM logo" 
           th:src="@{/images/stsmlogo.png}" th:alt-title="#{title.application}"/>
    </div>
    <div>
    
      <h2 th:text="#{title.new}">Add new KS snippet</h2>

      <form action="#" th:action="@{/ciiupdate}" th:object="${kssnippet}" method="post">
    
        <fieldset>
          
          <legend th:text="#{kssnippet.data}">Snippet Data</legend>

          <ul th:if="${#fields.hasErrors('*')}" class="errorlist">
            <li th:each="err : ${#fields.errors('*')}" th:text="${err}">Input is incorrect</li>
          </ul>
			
          <div>
            <label for="source.location">
              <span th:text="#{kssnippet.source.location}">Source Location</span>
            </label>
            <input type="text" th:field="*{source.location}" th:errorclass="fieldError" />
          </div>       
             
          <div>
            <label for="domain">
              <span th:text="#{kssnippet.domain}">Domain</span>
            </label>
            <input type="text" th:field="*{domain}" th:errorclass="fieldError" />
          </div>
                   
          <div>
            <label for="link1">
              <span th:text="#{kssnippet.link1}">Link 1</span>
            </label>
            <input type="text" th:field="*{link1}" th:errorclass="fieldError" />
          </div> 

          <div>
            <label for="link2">
              <span th:text="#{kssnippet.link2}">Link 2</span>
            </label>
            <input type="text" th:field="*{link2}" th:errorclass="fieldError" />
          </div> 
          
           <div>
            <label for="link3">
              <span th:text="#{kssnippet.link3}">Link 3</span>
            </label>
            <input type="text" th:field="*{link3}" th:errorclass="fieldError" />
          </div>
          
           <div>
            <label for="title">
              <span th:text="#{kssnippet.title}">Title</span>
            </label>
            <textarea rows="2" th:field="*{title}" th:errorclass="fieldError" ></textarea>
          </div>
 
          <div>
            <label for="content">
              <span th:text="#{kssnippet.content}">Content</span>
            </label>
            <textarea rows="5" th:field="*{content}" th:errorclass="fieldError" ></textarea>
          </div>
                                                 
          <div>
            <label th:text="#{kssnippet.tags}">Tags</label>
            <table>
              <thead>
                <tr>
                  <th></th>
                  <th th:text="#{kssnippet.tags.head.tag}">Tag</th>
                  <th>
                    <button type="submit" name="addTag" th:text="#{kssnippet.tags.add}">Add tag</button>
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr th:each="row,tagstat : *{tags}">
                  <td th:text="${tagstat.count}">1</td>
                  <td>
                    <input type="text" th:field="*{tags[__${tagstat.index}__]}" th:errorclass="fieldError" />
                  </td>
                  <td>
                    <button type="submit" name="removeTag" th:value="${tagstat.index}" th:text="#{kssnippet.tags.remove}">Remove</button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
    
          <div class="submit">
            <button type="submit" name="save" th:text="#{kssnippet.save}">Save Snippet</button>    
          </div>
        
        </fieldset>
          
      </form>
        
    </div>
    
    
  </body>
</html>